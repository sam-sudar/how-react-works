import { useState } from "react";

const content = [
  {
    summary: "What is React?",
    details:
      "React is a powerful JavaScript library developed by Facebook for building user interfaces. It allows developers to create large web applications that can change data without reloading the page. Its component-based architecture promotes reusability and makes it easier to manage complex UIs.",
  },
  {
    summary: "Understanding State Management",
    details:
      "State management in React refers to the way we manage and control the state of our components. It allows us to keep track of dynamic data that can change over time, such as user inputs or fetched data. Libraries like Redux or Context API help in managing global state across multiple components, ensuring a predictable state container.",
  },
  {
    summary: "The Role of Props in React",
    details:
      "Props (short for properties) are a crucial part of React's component model. They allow you to pass data from one component to another, enabling communication between components. Props are read-only and should not be modified by the receiving component, which helps maintain a unidirectional data flow.",
  },
];

export default function App() {
  return (
    <div>
      <Tabbed content={content} />
    </div>
  );
}

function Tabbed({ content }) {
  const [activeTab, setActiveTab] = useState(0);

  return (
    <div>
      <div className="tabs">
        <Tab num={0} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={1} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={2} activeTab={activeTab} onClick={setActiveTab} />
        <Tab num={3} activeTab={activeTab} onClick={setActiveTab} />
      </div>

      {activeTab <= 2 ? (
        <TabContent item={content.at(activeTab)} />
      ) : (
        <DifferentContent />
      )}
    </div>
  );
}

function Tab({ num, activeTab, onClick }) {
  return (
    <button
      className={activeTab === num ? "tab active" : "tab"}
      onClick={() => onClick(num)}
    >
      Tab {num + 1}
    </button>
  );
}

function TabContent({ item }) {
  const [showDetails, setShowDetails] = useState(true);
  const [likes, setLikes] = useState(0);

  function handleInc() {
    setLikes(likes + 1);
  }

  return (
    <div className="tab-content">
      <h4>{item.summary}</h4>
      {showDetails && <p>{item.details}</p>}

      <div className="tab-actions">
        <button onClick={() => setShowDetails((h) => !h)}>
          {showDetails ? "Hide" : "Show"} details
        </button>

        <div className="hearts-counter">
          <span>{likes} ‚ù§Ô∏è</span>
          <button onClick={handleInc}>+</button>
          <button>+++</button>
        </div>
      </div>

      <div className="tab-undo">
        <button>Undo</button>
        <button>Undo in 2s</button>
      </div>
    </div>
  );
}

function DifferentContent() {
  return (
    <div className="tab-content">
      <h4>I'm a DIFFERENT tab, so I reset state üí£üí•</h4>
    </div>
  );
}
